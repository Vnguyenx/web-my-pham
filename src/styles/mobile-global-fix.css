/* ======================================================
   MOBILE RESPONSIVE - COMPLETE FINAL VERSION
   Covers: Layout, Products, Banner, Cart, Profile, Orders, Wishlist
   Optimized for: Mobile (≤768px) & Tablet (769-1024px)
   ====================================================== */

@media (max-width: 768px) {

    /* ===== GLOBAL RESET ===== */

    html {
        overflow-x: hidden !important;
        width: 100% !important;
        max-width: 100vw !important;
    }

    body {
        overflow-x: hidden !important;
        width: 100% !important;
        max-width: 100vw !important;
        margin: 0 !important;
        padding: 0 !important;
    }

    * {
        box-sizing: border-box !important;
    }

    /* ===== HEADER MOBILE ===== */

    .header {
        position: sticky !important;
        top: 0 !important;
        z-index: 1000 !important;
        width: 100% !important;
        box-shadow: 0 2px 8px rgba(169, 50, 38, 0.1) !important;
    }

    .header-top {
        display: flex !important;
        align-items: center !important;
        justify-content: space-between !important;
        padding: 12px 16px !important;
        gap: 12px !important;
        flex-wrap: nowrap !important;
        width: 100% !important;
        max-width: 100vw !important;
        box-sizing: border-box !important;
    }

    .logo {
        flex: 0 0 auto !important;
        margin: 0 !important;
        padding: 0 !important;
    }

    .logo a {
        font-size: 22px !important;
        letter-spacing: -0.5px !important;
    }

    .search-wrapper {
        flex: 1 1 auto !important;
        min-width: 0 !important;
        max-width: 100% !important;
        margin: 0 !important;
        padding: 0 !important;
    }

    .search {
        width: 100% !important;
        padding: 10px 14px !important;
        font-size: 14px !important;
        border-radius: 20px !important;
        border: 1.5px solid #F5E1DA !important;
    }

    .search-preview-dropdown {
        left: 0 !important;
        right: 0 !important;
        width: 100% !important;
        max-height: 300px !important;
        border-radius: 8px !important;
        margin-top: 4px !important;
    }

    .preview-item {
        padding: 12px 16px !important;
    }

    .actions {
        display: flex !important;
        align-items: center !important;
        gap: 10px !important;
        flex: 0 0 auto !important;
        flex-shrink: 0 !important;
    }

    .actions a {
        width: 40px !important;
        height: 40px !important;
        font-size: 20px !important;
        flex-shrink: 0 !important;
    }

    .cart-badge {
        position: absolute !important;
        top: -4px !important;
        right: -6px !important;
        min-width: 18px !important;
        height: 18px !important;
        padding: 2px 5px !important;
        font-size: 10px !important;
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
    }

    .avatar {
        width: 40px !important;
        height: 40px !important;
        border-width: 2px !important;
    }

    /* ===== NAVIGATION ===== */

    .nav-container {
        width: 100% !important;
        overflow-x: auto !important;
        overflow-y: hidden !important;
        -webkit-overflow-scrolling: touch !important;
        scrollbar-width: none !important;
    }

    .nav-container::-webkit-scrollbar {
        display: none !important;
    }

    .nav {
        display: flex !important;
        gap: 0 !important;
        padding: 0 16px !important;
        width: max-content !important;
        min-width: 100% !important;
    }

    .nav-item {
        flex: 0 0 auto !important;
        white-space: nowrap !important;
    }

    .nav-item > span,
    .nav-item > a {
        padding: 14px 16px !important;
        font-size: 14px !important;
        border-bottom-width: 2px !important;
    }

    .dropdown {
        position: fixed !important;
        left: 0 !important;
        right: 0 !important;
        width: 100vw !important;
        border-radius: 0 !important;
        border-left: none !important;
        border-right: none !important;
        max-height: 70vh !important;
        overflow-y: auto !important;
        z-index: 9999 !important;
    }

    /* ===== BANNER MOBILE ===== */

    .banner {
        height: auto !important;
        min-height: unset !important;
        border-radius: 16px !important;
        margin-bottom: 24px !important;
        box-shadow: 0 8px 24px rgba(0, 0, 0, 0.08) !important;
    }

    .banner-item {
        flex-direction: column-reverse !important;
        min-height: unset !important;
        position: relative !important;
    }

    /* Remove all overlays */
    .banner-item::before,
    .banner-item::after {
        display: none !important;
    }

    .banner-item img {
        position: relative !important;
        width: 100% !important;
        height: 240px !important;
        left: 0 !important;
        object-fit: cover !important;
        object-position: center !important;
        filter: brightness(1) contrast(1) !important;
    }

    .banner-info {
        position: relative !important;
        width: 100% !important;
        margin: 0 !important;
        padding: 24px 20px !important;
        background: linear-gradient(135deg, #F5E1DA 0%, #FFFFFF 100%) !important;
        text-align: center !important;
        animation: none !important;
    }

    .banner-info::before {
        display: none !important;
    }

    .banner-info h3 {
        font-size: 24px !important;
        margin-bottom: 12px !important;
        letter-spacing: -0.5px !important;
        animation: none !important;
    }

    .banner-info p {
        font-size: 14px !important;
        line-height: 1.6 !important;
        margin-bottom: 20px !important;
        -webkit-line-clamp: 2 !important;
        animation: none !important;
    }

    .banner-info button {
        padding: 12px 32px !important;
        font-size: 14px !important;
        margin: 0 auto !important;
        animation: none !important;
    }

    .banner-arrow {
        width: 44px !important;
        height: 44px !important;
        font-size: 20px !important;
        top: 120px !important; /* Center of 240px image */
        box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15) !important;
    }

    .banner-arrow.left {
        left: 12px !important;
    }

    .banner-arrow.right {
        right: 12px !important;
    }

    /* ===== CONTAINERS ===== */

    .container {
        padding: 16px 12px !important;
        width: 100% !important;
        max-width: 100vw !important;
        background: #f8f8f8 !important;
    }

    main {
        padding: 20px 0 !important;
        max-width: 100% !important;
    }

    /* ===== PRODUCT PAGE ===== */

    .product-page-layout {
        display: flex !important;
        flex-direction: column !important;
        gap: 16px !important;
        margin-top: 16px !important;
    }

    .product-main {
        width: 100% !important;
        gap: 16px !important;
        order: 2 !important;
    }

    .product-list-header {
        padding: 16px 20px !important;
        flex-direction: column !important;
        align-items: flex-start !important;
        gap: 10px !important;
        border-radius: 10px !important;
    }

    .product-list-header h1 {
        font-size: 22px !important;
        line-height: 1.3 !important;
    }

    .product-list-header p {
        font-size: 13px !important;
        padding: 5px 14px !important;
    }

    /* ===== PRODUCT GRID ===== */

    .product-grid {
        grid-template-columns: repeat(2, 1fr) !important;
        gap: 12px !important;
        animation: fadeIn 0.4s ease-out !important;
    }

    .product-grid > * {
        animation-delay: 0s !important;
    }

    /* ===== PRODUCT CARD ===== */

    .product-card {
        border-radius: 8px !important;
        overflow: hidden !important;
        display: flex !important;
        flex-direction: column !important;
        height: 100% !important;
    }

    .product-image-wrapper {
        width: 100% !important;
        height: 0 !important;
        padding-bottom: 100% !important;
        position: relative !important;
        background: #f8f8f8 !important;
    }

    .product-image-wrapper img {
        position: absolute !important;
        top: 0 !important;
        left: 0 !important;
        width: 100% !important;
        height: 100% !important;
        object-fit: cover !important;
    }

    .badge-sale {
        top: 8px !important;
        left: 8px !important;
        padding: 4px 8px !important;
        font-size: 11px !important;
        z-index: 3 !important;
    }

    .btn-wishlist {
        top: 8px !important;
        right: 8px !important;
        width: 32px !important;
        height: 32px !important;
        z-index: 3 !important;
    }

    .btn-wishlist svg {
        width: 18px !important;
        height: 18px !important;
    }

    .login-message {
        top: 48px !important;
        right: 8px !important;
        font-size: 11px !important;
        padding: 6px 10px !important;
    }

    .product-info {
        padding: 12px !important;
        gap: 8px !important;
        flex: 1 !important;
    }

    .product-info .brand {
        font-size: 11px !important;
        margin: 0 0 4px 0 !important;
    }

    .product-info .name {
        font-size: 13px !important;
        line-height: 1.4 !important;
        min-height: 36px !important;
        max-height: 36px !important;
        -webkit-line-clamp: 2 !important;
    }

    .product-info .price {
        gap: 8px !important;
        margin: 8px 0 !important;
    }

    .price-sale {
        font-size: 16px !important;
        white-space: nowrap !important;
    }

    .price-root {
        font-size: 13px !important;
        white-space: nowrap !important;
    }

    .product-info .meta {
        font-size: 12px !important;
        margin: 0 0 10px 0 !important;
        padding-bottom: 10px !important;
    }

    .add-cart-btn {
        width: 100% !important;
        padding: 10px !important;
        font-size: 13px !important;
        min-height: 40px !important;
        margin-top: auto !important;
    }

    /* ===== PAGINATION ===== */

    .pagination {
        gap: 8px !important;
        padding: 32px 0 16px 0 !important;
        flex-wrap: wrap !important;
    }

    .pagination button {
        min-width: 36px !important;
        height: 36px !important;
        padding: 0 10px !important;
        font-size: 13px !important;
        border-radius: 8px !important;
    }

    /* ===== CART PAGE ===== */

    .cart-page-container {
        padding: 20px 12px !important;
        min-height: calc(100vh - 150px) !important;
    }

    .page-heading {
        font-size: 20px !important;
        margin-bottom: 24px !important;
        padding-bottom: 12px !important;
    }

    .page-heading::after {
        width: 60px !important;
        height: 2px !important;
    }

    .cart-layout-grid {
        display: flex !important;
        flex-direction: column !important;
        gap: 20px !important;
    }

    .cart-right-section {
        position: static !important;
        order: 2 !important;
    }

    .cart-left-section {
        order: 1 !important;
    }

    /* ===== CART ITEMS TABLE ===== */

    .cart-items {
        border-radius: 8px !important;
        overflow: hidden !important;
    }

    .cart-table {
        display: block !important;
        width: 100% !important;
    }

    .cart-table thead {
        display: none !important;
    }

    .cart-table tbody {
        display: block !important;
    }

    .cart-table tbody tr {
        display: flex !important;
        flex-direction: column !important;
        padding: 16px !important;
        margin-bottom: 12px !important;
        border: 1px solid #F5E1DA !important;
        border-radius: 8px !important;
        background: #FFFFFF !important;
    }

    .cart-table tbody tr:last-child {
        margin-bottom: 0 !important;
    }

    .cart-table td {
        display: flex !important;
        justify-content: space-between !important;
        align-items: center !important;
        padding: 10px 0 !important;
        border: none !important;
    }

    .cart-table td:first-child {
        justify-content: center !important;
        margin-bottom: 12px !important;
    }

    .cart-table td:not(:first-child)::before {
        content: attr(data-label) !important;
        font-weight: 600 !important;
        color: #666 !important;
        font-size: 13px !important;
    }

    /* Add data-label attributes in HTML or handle with CSS counters */
    .cart-table td:nth-child(2)::before { content: "Sản phẩm:" !important; }
    .cart-table td:nth-child(3)::before { content: "Đơn giá:" !important; }
    .cart-table td:nth-child(4)::before { content: "Số lượng:" !important; }
    .cart-table td:nth-child(5)::before { content: "Thành tiền:" !important; }

    /* ===== CART SUMMARY ===== */

    .cart-summary {
        padding: 20px !important;
        border-radius: 8px !important;
    }

    .cart-summary h3 {
        font-size: 18px !important;
        margin-bottom: 16px !important;
    }

    .summary-line {
        padding: 10px 0 !important;
        font-size: 14px !important;
    }

    .promo-code {
        flex-direction: column !important;
        gap: 10px !important;
    }

    .promo-code input,
    .promo-code button {
        width: 100% !important;
        padding: 12px 14px !important;
    }

    .summary-total {
        padding: 14px 0 !important;
        font-size: 16px !important;
    }

    .price-final {
        font-size: 20px !important;
    }

    .btn-checkout,
    .btn-continue {
        padding: 14px !important;
        font-size: 15px !important;
    }

    .cart-empty-state {
        padding: 60px 16px !important;
    }

    .cart-empty-state .empty-icon {
        font-size: 60px !important;
    }

    .cart-empty-state h2 {
        font-size: 20px !important;
    }

    .cart-empty-state p {
        font-size: 14px !important;
    }

    .cart-empty-state .btn-shop-now {
        padding: 12px 24px !important;
        font-size: 14px !important;
    }

    /* ===== PROFILE PAGE ===== */

    .profile-page {
        display: flex !important;
        flex-direction: column !important;
        padding: 24px 12px !important;
        gap: 20px !important;
        min-height: calc(100vh - 150px) !important;
    }

    .profile-content {
        width: 100% !important;
        padding: 20px 16px !important;
        border-radius: 12px !important;
        animation: none !important;
    }

    .profile-content h2 {
        font-size: 20px !important;
        margin-bottom: 16px !important;
        padding-bottom: 12px !important;
    }

    /* ===== PROFILE SIDEBAR ===== */

    .profile-sidebar {
        width: 100% !important;
    }

    .profile-sidebar ul {
        display: grid !important;
        grid-template-columns: 1fr !important;
        gap: 12px !important;
    }

    .profile-sidebar li {
        flex-direction: row !important;
        justify-content: flex-start !important;
        text-align: left !important;
        padding: 18px 20px !important;
        min-height: auto !important;
        gap: 14px !important;
        border-radius: 12px !important;
    }

    .profile-sidebar li .icon {
        font-size: 32px !important;
    }

    .profile-sidebar li .text {
        font-size: 15px !important;
    }

    .profile-sidebar li:hover {
        transform: translateY(-2px) !important;
    }

    .profile-sidebar li.active {
        transform: translateY(0) !important;
    }

    /* ===== PROFILE INFO ===== */

    .profile-info h2 {
        font-size: 20px !important;
        margin-bottom: 20px !important;
    }

    .profile-info .avatar-section {
        flex-direction: column !important;
        text-align: center !important;
        padding: 20px 16px !important;
        gap: 16px !important;
    }

    .profile-info .profile-avatar {
        width: 90px !important;
        height: 90px !important;
    }

    .profile-info .upload-btn {
        padding: 10px 20px !important;
        font-size: 14px !important;
    }

    .profile-info .profile-form {
        grid-template-columns: 1fr !important;
        gap: 14px !important;
    }

    .profile-info .location-selectors {
        grid-template-columns: 1fr !important;
        gap: 12px !important;
    }

    .profile-info .form-row {
        grid-template-columns: 1fr !important;
        gap: 14px !important;
    }

    .profile-info .profile-form input,
    .profile-info .profile-form select {
        padding: 12px 16px !important;
        font-size: 14px !important;
        border-radius: 10px !important;
    }

    .profile-info .address-display {
        padding: 14px 16px !important;
        font-size: 14px !important;
        border-radius: 10px !important;
    }

    .profile-info .profile-form button,
    .profile-info .btn-save {
        padding: 14px 24px !important;
        font-size: 15px !important;
    }

    /* ===== PROFILE WISHLIST ===== */

    .profile-wishlist-container {
        padding: 0 !important;
    }

    .wishlist-empty {
        padding: 60px 20px !important;
        border-radius: 10px !important;
    }

    .wishlist-empty .empty-icon {
        font-size: 48px !important;
    }

    .wishlist-container {
        border-radius: 10px !important;
    }

    .wishlist-header {
        padding: 16px 20px !important;
        flex-direction: column !important;
        align-items: flex-start !important;
        gap: 8px !important;
    }

    .wishlist-header h3 {
        font-size: 18px !important;
    }

    .wishlist-header .page-info {
        font-size: 13px !important;
    }

    /* ===== WISHLIST ITEM ===== */

    .wishlist-item {
        padding: 16px !important;
        gap: 12px !important;
        flex-wrap: wrap !important;
    }

    .wishlist-item > a {
        width: 80px !important;
        height: 80px !important;
    }

    .wishlist-item > div:nth-child(2) {
        flex: 1 !important;
        min-width: calc(100% - 92px) !important;
    }

    .wishlist-item h4 {
        font-size: 14px !important;
    }

    .wishlist-item p {
        font-size: 12px !important;
    }

    .wishlist-item .price-current {
        font-size: 16px !important;
    }

    .wishlist-item .price-old {
        font-size: 13px !important;
    }

    .wishlist-item > div:last-child {
        flex-basis: 100% !important;
        flex-direction: row !important;
        justify-content: space-between !important;
        margin-top: 8px !important;
        gap: 10px !important;
    }

    .wishlist-item button.add-cart-btn {
        flex: 1 !important;
        padding: 10px 20px !important;
        font-size: 13px !important;
    }

    .wishlist-item button.remove-btn {
        width: 36px !important;
        height: 36px !important;
        font-size: 18px !important;
    }

    /* ===== WISHLIST PAGINATION ===== */

    .wishlist-container .pagination {
        padding: 16px !important;
        gap: 8px !important;
        flex-wrap: wrap !important;
    }

    .pagination-btn {
        padding: 10px 18px !important;
        font-size: 13px !important;
        min-width: 80px !important;
    }

    .pagination-number {
        width: 36px !important;
        height: 36px !important;
        font-size: 13px !important;
    }

    /* ===== ORDER CARD ===== */

    .order-card {
        padding: 16px !important;
        border-radius: 12px !important;
    }

    .order-card .order-header {
        flex-wrap: wrap !important;
        padding-bottom: 12px !important;
        margin-bottom: 12px !important;
        gap: 8px !important;
    }

    .order-card .order-header strong {
        font-size: 16px !important;
    }

    .order-card .order-header .order-date {
        font-size: 13px !important;
        flex-basis: 100% !important;
    }

    .order-card .status {
        padding: 5px 14px !important;
        font-size: 12px !important;
    }

    .order-card .order-item {
        padding: 10px 0 !important;
        gap: 12px !important;
        flex-wrap: wrap !important;
    }

    .order-card .order-item-img {
        width: 50px !important;
        height: 50px !important;
    }

    .order-card .order-item-info strong {
        font-size: 14px !important;
    }

    .order-card .order-item-info p {
        font-size: 12px !important;
    }

    .order-card .order-item-price {
        font-size: 14px !important;
        flex-basis: 100% !important;
        text-align: right !important;
    }

    .order-card .order-footer {
        flex-wrap: wrap !important;
        padding-top: 12px !important;
        margin-top: 12px !important;
        gap: 12px !important;
    }

    .order-card .order-footer strong {
        font-size: 16px !important;
        flex-basis: 100% !important;
    }

    .order-card .detail-btn {
        width: 100% !important;
        padding: 12px 24px !important;
        font-size: 14px !important;
    }

    /* ===== FOOTER ===== */

    .footer {
        padding: 40px 20px 20px !important;
        margin-top: 40px !important;
    }

    .footer::before {
        height: 3px !important;
    }

    .footer-grid {
        grid-template-columns: 1fr !important;
        gap: 32px !important;
        margin-bottom: 32px !important;
    }

    .footer h4 {
        font-size: 16px !important;
        margin-bottom: 16px !important;
        padding-bottom: 10px !important;
    }

    .footer h4::after {
        width: 32px !important;
        height: 2px !important;
    }

    .footer p,
    .footer a {
        font-size: 13px !important;
        margin-bottom: 8px !important;
    }

    .footer a:hover {
        padding-left: 16px !important;
    }

    .social {
        gap: 10px !important;
        margin-top: 12px !important;
    }

    .social span {
        width: 36px !important;
        height: 36px !important;
        font-size: 18px !important;
    }

    .footer-bottom {
        font-size: 12px !important;
        padding-top: 24px !important;
        margin-top: 32px !important;
    }

    /* ===== UTILITY ===== */

    .hide-mobile {
        display: none !important;
    }

    .show-mobile {
        display: block !important;
    }

    .text-center-mobile {
        text-align: center !important;
    }

    button,
    a.button,
    input[type="button"],
    input[type="submit"] {
        min-height: 44px !important;
    }

    button,
    .btn-wishlist,
    .add-cart-btn,
    .pagination button {
        -webkit-tap-highlight-color: transparent !important;
        user-select: none !important;
    }

    /* ===== LOADING & EMPTY STATES ===== */

    .loading {
        min-height: 300px !important;
        font-size: 16px !important;
    }

    .no-results {
        padding: 60px 20px !important;
        border-radius: 10px !important;
    }

    .no-results-icon {
        font-size: 48px !important;
    }

    .no-results h3 {
        font-size: 20px !important;
    }

    .no-results p {
        font-size: 14px !important;
    }
}

/* ======================================================
   TABLET (769px - 1024px)
   ====================================================== */

@media (min-width: 769px) and (max-width: 1024px) {

    .container {
        padding: 20px 24px !important;
    }

    .header-top {
        padding: 16px 32px !important;
        gap: 16px !important;
    }

    .logo a {
        font-size: 26px !important;
    }

    .search-wrapper {
        max-width: 400px !important;
        margin: 0 24px !important;
    }

    .banner {
        height: 380px !important;
        border-radius: 20px !important;
    }

    .banner-item img {
        height: 100% !important;
    }

    .banner-arrow {
        width: 52px !important;
        height: 52px !important;
    }

    .product-page-layout {
        grid-template-columns: 240px minmax(0, 1fr) !important;
        gap: 24px !important;
    }

    .product-grid {
        grid-template-columns: repeat(3, 1fr) !important;
        gap: 16px !important;
    }

    .cart-page-container {
        padding: 32px 24px !important;
    }

    .cart-layout-grid {
        grid-template-columns: 1fr 350px !important;
        gap: 24px !important;
    }

    .profile-page {
        grid-template-columns: 280px 1fr !important;
        padding: 32px 24px !important;
        gap: 24px !important;
    }

    .profile-sidebar ul {
        grid-template-columns: repeat(2, 1fr) !important;
    }

    .footer {
        padding: 50px 32px 20px !important;
    }

    .footer-grid {
        grid-template-columns: repeat(2, 1fr) !important;
        gap: 36px !important;
    }
}

/* ======================================================
   SMALL MOBILE (≤375px)
   ====================================================== */

@media (max-width: 375px) {

    .container {
        padding: 12px 10px !important;
    }

    .header-top {
        padding: 10px 12px !important;
        gap: 8px !important;
    }

    .logo a {
        font-size: 20px !important;
    }

    .actions {
        gap: 8px !important;
    }

    .actions a {
        width: 36px !important;
        height: 36px !important;
    }

    .product-grid {
        gap: 10px !important;
    }

    .product-info {
        padding: 10px !important;
        gap: 6px !important;
    }

    .product-info .name {
        font-size: 12px !important;
        min-height: 34px !important;
        max-height: 34px !important;
    }

    .price-sale {
        font-size: 15px !important;
    }

    .add-cart-btn {
        padding: 9px !important;
        font-size: 12px !important;
        min-height: 38px !important;
    }

    .banner-info h3 {
        font-size: 20px !important;
    }

    .banner-info p {
        font-size: 13px !important;
    }

    .banner-info button {
        padding: 10px 24px !important;
        font-size: 13px !important;
    }
}

/* ======================================================
   ACCESSIBILITY
   ====================================================== */

@media (max-width: 768px) {

    button:focus-visible,
    a:focus-visible,
    input:focus-visible {
        outline: 2px solid #E67E22 !important;
        outline-offset: 2px !important;
    }

    @media (prefers-reduced-motion: reduce) {
        *,
        *::before,
        *::after {
            animation-duration: 0.01ms !important;
            animation-iteration-count: 1 !important;
            transition-duration: 0.01ms !important;
        }
    }

    @media (prefers-contrast: more) {
        .product-card,
        .cart-summary,
        .profile-content {
            border-width: 2px !important;
        }

        .search,
        input,
        select {
            border-width: 2px !important;
        }
    }
}

/* ======================================================
   PRINT
   ====================================================== */

@media print {
    .header,
    .nav-container,
    .footer,
    .pagination,
    .btn-wishlist,
    .add-cart-btn,
    .actions,
    .banner-arrow {
        display: none !important;
    }

    .product-grid,
    .wishlist-list {
        grid-template-columns: repeat(2, 1fr) !important;
        gap: 10px !important;
    }

    .product-card,
    .wishlist-item,
    .order-card {
        break-inside: avoid !important;
        page-break-inside: avoid !important;
    }
}